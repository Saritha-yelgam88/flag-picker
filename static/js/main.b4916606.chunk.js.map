{"version":3,"sources":["search.js","index.js"],"names":["Search","props","sendQueryBackToParent","parentCallback","state","query","handleStateChnage","setState","showOptions","handleChange","event","target","value","handleDropDownClick","handleClick","isMulti","preventDefault","id","handleFocus","this","lowerCaseQuery","toLowerCase","searchOptions","children","filter","item","includes","map","child","onClick","bind","tabindex","OptionsComponent","opts","className","title","label","type","dataId","onChange","onFocus","Component","Index","selectedContinent","data","FlagData","selectedCountries","Map","callbackFunction","childData","UpDateCountries","flag","get","set","handleCheck","isChecked","checked","deleteFlag","el","remove","clearFlags","keys","key","continent","countries","flat","Continents","showSelectedContinent","indexOf","ContOpts","CountryOpts","getCountries","name","selectedOpts","selectedOptsFlags","entries","flagComp","showFlags","length","console","log","span","React","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b4916606.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './search.css';\r\n\r\nclass Search extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            query: \"\",\r\n            showOptions:true,\r\n            isMulti:false\r\n        }\r\n    }\r\n    sendQueryBackToParent = () => {\r\n        if(this.props.parentCallback) {\r\n            this.props.parentCallback(this.state.query);\r\n        }\r\n   };\r\n   handleStateChnage = () => {\r\n       // On state update if there isa parent call back ..pas data back to parent\r\n       if(this.props.parentCallback) {\r\n        this.props.parentCallback(this.state.query);\r\n        this.setState(\r\n            {query: \"\",\r\n            showOptions:false,\r\n           }\r\n        );\r\n        }\r\n   };\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {query: event.target.value}\r\n        );\r\n      \r\n    };\r\n    handleDropDownClick = (event) => {\r\n        this.setState(\r\n            {\r\n                showOptions: true\r\n            })\r\n    };\r\n    handleClick = (event) => {\r\n        if(!this.props.isMulti) {\r\n        event.preventDefault();\r\n        //console.log(\"You clicke in\"+event.target);\r\n        this.setState(\r\n            {\r\n                query: event.target.id,\r\n                showOptions: false\r\n            }, this.handleStateChnage\r\n        )\r\n        }\r\n    };\r\n    handleFocus = (event) => {\r\n       this.setState(\r\n            {\r\n                showOptions: true\r\n            })\r\n    };\r\n\r\n    render() {\r\n        const query = this.state.query;\r\n        const showOptions = this.state.showOptions;\r\n\r\n        const lowerCaseQuery = query.toLowerCase();\r\n        const queryResult = this.props.children.filter(item =>{\r\n              const continent = item.props.id;\r\n              const res = continent.toLowerCase().includes(lowerCaseQuery);\r\n              //console.log(continent);\r\n              //console.log(res);\r\n            return res;\r\n        });\r\n        //console.log(queryResult);\r\n        const searchOptions = queryResult.map(child => {\r\n            // console.log(child);\r\n         return (<li onClick={this.handleClick.bind(this)} id={child.props.id} tabindex=\"-1\">{child}</li>);\r\n         });\r\n        const OptionsComponent = (<ul>\r\n                                  {searchOptions}\r\n                                  </ul>)\r\n        const opts = showOptions ? OptionsComponent : null;\r\n        //console.log(opts);\r\n        return (\r\n            <div className=\"searchBox\" >\r\n                <div className=\"searchBox-header\">\r\n                    <h2>{this.props.title}</h2>\r\n                    <label>{this.props.label}</label>\r\n                </div>\r\n                <input type=\"text\"  id={this.props.dataId} value={query}\r\n                                        onChange={this.handleChange.bind(this)} onFocus={this.handleFocus.bind(this)} \r\n                                          />\r\n                {opts} \r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Search;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Search from './search.js';\nimport FlagData from './data/continents.json';\n\nclass Index extends React.Component {\n    state = {\n        selectedContinent: \"\",\n        data: FlagData,\n        selectedCountries: new Map()\n    }\n    getCountries(continent) {\n        let countries = this.state.data.map( item => {\n            if (item['continent'].toLowerCase().includes(continent.toLowerCase())) {\n                return item['countries'];\n            };\n        }        \n        );\n        //console.log(\"I am priting countries\");\n        //console.log(countries);\n        countries = countries.flat();\n        countries = countries.filter(item => {\n            if(item) return item;\n        })\n        //console.log(countries)\n        return countries\n    }\n    handleChange = (event) => {\n        this.setState({selectedContinent: event.target.value});\n    };\n    callbackFunction = (childData) => {      \n        this.setState({selectedContinent: childData})\n    };\n    UpDateCountries = (flag) => {\n        this.setState(\n            (state) => {\n                if (state.selectedCountries.get(flag)) {\n                   state.selectedCountries.set(flag,false);\n                }\n                return {selectedCountries: state.selectedCountries}; \n            }\n        )\n    }\n    handleCheck = (event) => {\n        const flag = event.target.value;\n        const isChecked = event.target.checked;\n        this.setState(\n            (state) => {\n                state.selectedCountries.set(flag,isChecked);\n                /*for (let entry of state.selectedCountries) { \n                    console.log(entry);\n                }*/\n                return {selectedCountries: state.selectedCountries};\n            }\n        );\n        //console.log(flag+\" \" + isChecked);\n    }\n    deleteFlag = (event) => {\n        let el = event.target;\n        let flag = event.target.id;\n        /*if(this.props.parentCallback) {\n            this.props.parentCallback(flag);\n        }*/\n        this.UpDateCountries(flag);\n        el.remove();\n\n    };\n\n    clearFlags = () => {\n        this.setState(\n            (state) => {\n                for(const key of state.selectedCountries.keys()) {\n                    if (state.selectedCountries.get(key)) {\n                        state.selectedCountries.set(key,false);\n                     }\n                }\n                return {selectedCountries: state.selectedCountries}; \n            }\n        )\n    }\n\n    render() {\n        \n        const selectedContinent = this.state.selectedContinent;\n        const Continents = this.state.data.map((item)=>{\n          return item['continent'];\n        });\n        let showSelectedContinent = (Continents.indexOf(selectedContinent) != -1 ) ; \n        //console.log(Continents);\n        const ContOpts = Continents.map(item => {\n            // console.log(child);\n        return (<div className=\"continent-option\" id={item}>{item}</div>);\n         });\n        const Countries = this.getCountries(selectedContinent);\n        const CountryOpts = Countries.map(item => {\n            // console.log(child);\n            let isChecked = this.state.selectedCountries.get(item.flag);\n            isChecked = !!isChecked;\n        \n        return (\n            <div className=\"country-option\" id={item.name}>\n                <label>\n                <input type=\"checkbox\"  value={item.flag} checked={isChecked} onChange={this.handleCheck}/>\n                <span>{item.name}</span>\n                </label>\n           </div>     \n            );\n         });\n\n         let selectedOpts = \"\";\n         let selectedOptsFlags = \"\";\n         selectedOpts = [...this.state.selectedCountries.entries()];\n           //selectedOpts = selectedOpts.join(\",\");\n        selectedOptsFlags = selectedOpts.map(item => {\n             //{selectedOpts}\n             let flagComp = ( <span><i className=\"fa fa-times\" onClick={this.deleteFlag} id={item[0]}> {item[0]} </i> </span> );\n             let res = item[1] ? flagComp : null;\n               return res;\n           });\n        selectedOptsFlags = selectedOptsFlags.filter(item => {\n            return item;\n           });\n        let showFlags = showSelectedContinent && (selectedOptsFlags.length > 0);\n         console.log(\"You selected:\");\n         console.log(selectedOpts);\n\n        return (\n            <div className=\"main-container\">\n                <h1>Flag Picker</h1>\n                <p>This app will help you to learn flags around the world in 3 steps.</p>\n                <div className=\"flag-picker-container\">\n                    <div className=\"continent-container\">\n                        <Search dataId=\"data-continent\" parentCallback={this.callbackFunction} title=\"Step 1\"  label=\"Select a continent.\" span=\"You selected\">\n                            {ContOpts}\n                        </Search>\n                        { showSelectedContinent && <div className=\"result\">\n                            <span>You selected</span>   \n                            <h3>{selectedContinent}</h3>\n                        </div> }\n\n                    </div>\n                    { showSelectedContinent &&\n                        <div className=\"country-container\">\n                            <Search dataId=\"data-countries\" parentCallback={this.UpDateCountries} title=\"Step 2\" label=\"Now, select a country.\" \n                                    isMulti=\"true\" selectedOpts={this.state.selectedCountries} >\n                                {CountryOpts}\n                            </Search>\n                        </div>\n                    }\n\n                    { showFlags &&\n                        <div className=\"flag-container\">\n                            <div className=\"flag-header\">\n                                <h2>Selected flags:</h2>\n                            </div>\n                            <div>\n                                {selectedOptsFlags}\n                            </div>\n                           <button type=\"button\" onClick={this.clearFlags}>Clear flags</button>\n                        </div>\n                    }\n                </div>\n\n            </div>\n        )\n    }\n}\n\nReactDOM.render(<Index />, document.getElementById('root'));\n\n"],"sourceRoot":""}